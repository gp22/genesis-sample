/* Navigation
---------------------------------------------------------------------------------------------------- */
.genesis-responsive-menu {
	display: none;
	width: 100%;

	.wrap {
		padding: 0;
	}

	@include media(">=mobile-menu") {
		display: block;
		width: auto;
	}
}

.genesis-nav-menu {

	& > * {
		line-height: 0;
	}

	.menu-item {
		display: inline-block;
		list-style: none;

		a {
			border: none;
			color: $base-color;
			display: block;
			font-size: $text-sm;
			font-weight: 400;
			padding: $size-7 $size-4;
			position: relative;
			text-decoration: none;
		}

		&:hover > a {
			background: $gray-1;
		}

		&.current-menu-item > a,
		&.current-menu-ancestor > a {
			color: $highlight;
		}
	}

	.submenu-expand {
		@include button-reset;
		position: absolute;
		line-height: 0;
		top: 50%;
		transform: translateY(-50%);
		right: 7px;

		svg {
			fill: $gray-3;
		}
	}

	// .nav-secondary {
	// 	.menu-item.search {
	// 		@include media("<=mobile-menu") {
	// 			padding: 4px 16px 16px;
	// 		}
	// 		@include media(">mobile-menu") {
	// 			margin: 5px 0 0 8px;

	// 			.search-field {
	// 				padding-top: 8px;
	// 				padding-bottom: 8px;
	// 				width: 268px;
	// 			}
	// 		}
	// 	}
	// }

	// .nav-primary {

	// 	.menu-item.search {
	// 		line-height: 0;

	// 		button {
	// 			padding: 12px;
	// 		}

	// 		@include media("<=mobile-menu") {
	// 			display: none;
	// 		}
	// 	}
	// }

	// @include media(">mobile-menu") {
		// float: right;
		// width: calc( 100% - #{$menu-width} );
		// display: flex;
		// flex-flow: column-reverse nowrap;

		// .nav-primary,
		// .nav-secondary {
		// 	display: flex;
		// 	justify-content: flex-end;
		// }

		// .nav-primary + .nav-secondary {
		// 	margin-bottom: 16px;
		// }


		// .menu {
		// 	display: inline-block;
		// 	width: auto;
		// }

		// .menu-item {
		// 	&:hover {

		// 		& > .sub-menu {
		// 			left: auto;
		// 			opacity: 1;
		// 		}
		// 	}
		// }

		// .sub-menu {
		// 	background: $grey-2;
		// 	left: -9999px;
		// 	opacity: 0;
		// 	position: absolute;
		// 	width: 215px;
		// 	z-index: 99;

		// 	.menu-item {
		// 		&:hover > a {
		// 			background: $grey-3;
		// 		}
		// 	}

		// 	.sub-menu {
		// 		margin: -48px 0 0 215px;
		// 	}
		// }
	// }

	@include media("<mobile-menu") {
		// display: none;

		&.active {
			background: $gray-1;
			border-top: 1px solid $border-color;
			display: block;
			margin: 0 -48px;
			max-width: calc( 100% + 96px );
		}

		// .menu > .menu-item > a {
		// 	padding: 11px 18px;
		// }

		.submenu-expand {
			top: 0;
			right: 0;
			transform: none;
			@include icon-position( 44px );

			svg {
				@include icon-position( 12px );
			}

			&:not(.expanded) {
				transform: rotate(180deg);
			}

			&.expanded {

				& + .sub-menu {
					display: block;
				}
			}
		}

		.sub-menu {
			display: none;
			padding-left: 8px;
		}
	}
}

/* Toggles
--------------------------------------------- */

.search-toggle,
.menu-toggle {

	@include button-reset;
	line-height: 0;
	text-align: center;

	.close {
		display: none;
	}

	&:hover,
	&.active {
		background: $gray-1;
	}

	&.active {

		.close {
			display: inline;
		}

		.open {
			display: none;
		}
	}
}

.site-header {
	& > .wrap {

		align-items: center;
		display: flex;
		flex-wrap: wrap;
		justify-content: space-between;

		& > .menu-toggle {
			&:before {
				background-image: url("data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='bars' class='svg-inline--fa fa-bars fa-w-14' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512'%3E%3Cpath fill='currentColor' d='M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z'%3E%3C/path%3E%3C/svg%3E");
				content: "";
				display: inline-block;
				width: $size-5;
				height: $size-5;
			}
		}

		& > .menu-toggle,
		& > .search-toggle {
			padding: $size-5 $size-6;

			@include media(">=mobile-menu") {
				display: none;
			}
		}
	}
}

/* Header Search
--------------------------------------------- */

.header-search {
	background: $gray-1;
	overflow: hidden;
	padding: 16px;
	width: 100%;

	@include media(">=tablet") {
		position: absolute;
		bottom: -82px;
		right: 0;

		.search-form {
			margin: 0 auto;
		}
	}

	@include media("<=mobile-menu") {
		margin: 0 -48px;
		width: calc( 100% + 96px );
	}

	&:not(.active) {
		display: none;
	}
}
